ANÁLISIS COMPLETO DEL SISTEMA
1. PROGRAMAS QUE MANEJA LA EMPRESA
Programas Identificados:

WORK & STUDY - Cursos de idiomas con permiso de trabajo
LANGUAGE PROGRAM - Cursos de idiomas puros
INTERN/TRAINEE USA (FULL PLACEMENT) - Pasantías profesionales
HIGHER EDUCATION - Educación superior (College/Universidad)
AU PAIR USA - Cuidado de niños en familias
TEACHERS USA - Docentes en escuelas USA
WORK & TRAVEL USA - Trabajo temporal de verano

2. ESTRUCTURA DE DATOS PRINCIPALES
A. DATOS DEL PARTICIPANTE
Información Personal:

Nombre completo
Fecha de nacimiento / Edad
C.I. (Cédula de Identidad)
Pasaporte (número y vencimiento)
Nacionalidad
Estado civil
Domicilio y ciudad
Email
Teléfono / Celular
Skype / Instagram (según programa)

Información Académica:

Estudio actual
Institución educativa
Año/Curso
Nivel académico (graduado/estudiante)
Título universitario (para algunos programas)
Año de graduación
Registro docente MEC (Teachers)

Información Laboral:

Trabajo actual
Cargo/Función
Dirección laboral
Experiencia (para Intern/Trainee y Teachers)

Contactos de Emergencia:

Nombre
Vínculo
Teléfono
Email

Información de Salud (Declaración Jurada):

Enfermedades
Alergias
Restricciones alimenticias
Trastornos de aprendizaje
Medicación/Tratamientos actuales
Limitaciones físicas

B. DATOS DEL PROGRAMA
Información del Destino:

País y ciudad de destino
Escuela de idiomas / Institución educativa
Tipo de curso / Carrera
Duración del programa
Fecha de inicio
Fecha de fin

Alojamiento:

Tipo: Homestay / Residencia / Sin alojamiento / Otro
Duración del alojamiento

Servicios Adicionales:

Seguro médico (Sí/No)
Transfer IN/OUT

Para Work & Travel específicamente:

Sponsor (AAG, AWA, GH)
Job Offer ID
Host Company Name
Posición laboral
Remuneración
Housing (proveído/asistido/no proveído)
Ciudad y Estado
Nivel de inglés requerido

C. EVALUACIÓN Y REQUISITOS
Nivel de Inglés:

Clasificación: INSUFFICIENT / GOOD / GREAT / EXCELLENT
Nivel CEFR: A1, A2, B1, B2, C1, C2
EF SET ID (código de examen)
Hasta 3 intentos de evaluación

Experiencia (para programas específicos):

Experiencia con niños (Au Pair)
Experiencia docente (Teachers)
Experiencia laboral en área de estudio (Trainee)

D. PROCESO Y DOCUMENTACIÓN
Estados del Proceso:

Sin trabajo
Job offer elegido
En proceso de entrevista
Sponsor interview (aprobado/pendiente)
Entrevista laboral (aprobado/pendiente)
Self placement

Documentación requerida:

Formulario de inscripción
Pasaporte vigente (mínimo 6 meses)
Constancia universitaria
CV
Contratos (IE + Organización Socia)
DS160 (formulario de visa)
DS2019 (documento del sponsor)
SEVIS (pago)

Estado de Visa:

Cita agendada
Correspondencia
Aprobada
Debe enviar form
Debe pagar voucher
Pagar voucher

E. DATOS FINANCIEROS
Costos:

Costo de inscripción/admisión (varía por programa):

Work & Study: USD 200
Language Program: USD 200
Higher Education: USD 300
Au Pair: USD 200
Teachers: USD 500
Work & Travel: USD 250
Intern/Trainee: USD 220


Costo total del programa (varía)
SEVIS fee (USD 35-220 según programa)
Tasa consular visa (USD 185)

Facturación:

RUC del responsable de pago
Datos de facturación

Promociones aplicadas:

2x1 EndOfTheYear
IE CUE 2X1
Promo Charla WAT
Aniversario
Descuentos universitarios

Plan de Pagos:

Inscripción inicial
Pago al confirmar trabajo/posición
Pago completo (45-60 días antes)
SEVIS
Tasa consular

F. GESTIÓN INTERNA
Agente responsable:

Número de agente
Fecha de inscripción

Año de inscripción:

"Inscripción 2024"
"Pasa del 2023"
"Lista de espera 2024"

Seguimiento:

Correo de bienvenida enviado
Documentos recibidos
Contratos firmados
Fechas de envío
Observaciones

3. LÓGICA DE PROCESOS
FLUJO GENERAL (Work & Travel como ejemplo principal)
1. INSCRIPCIÓN
   ↓
2. EVALUACIÓN DE INGLÉS (hasta 3 intentos)
   ↓
3. PRESENTACIÓN DE DOCUMENTACIÓN
   - Pasaporte
   - Constancia universitaria
   - Formularios firmados
   ↓
4. FIRMA DE CONTRATOS
   - Contrato con IE
   - Contrato con Organización Socia/Sponsor
   ↓
5. SELECCIÓN DE JOB OFFER
   - Acceso al Job Pool según nivel de inglés
   - Pago de USD 800 para reservar
   - Penalidad de USD 100 si cancela reserva
   ↓
6. ENTREVISTAS
   a. Sponsor Interview
   b. Job Interview (con empleador)
   ↓
7. CONFIRMACIÓN DE TRABAJO
   - Pago del saldo del programa
   - Pago de SEVIS
   ↓
8. PROCESO DE VISA
   a. Completar DS160
   b. Recibir DS2019 del sponsor
   c. Pagar tasa consular (USD 185)
   d. Agendar cita en embajada
   e. Entrevista consular
   ↓
9. APROBACIÓN DE VISA
   ↓
10. VIAJE (30 días antes confirmar pasaje)
```

### ESTADOS Y TRANSICIONES

**Estados del participante:**
- SIN TRABAJO → Inscrito pero sin job offer
- JO ELEGIDOS → Job offer seleccionado
- SELF PLACEMENT → Busca trabajo por cuenta propia
- PROCESO ENTREVISTA → En entrevistas
- RECIEN CONFIRMADO → Trabajo confirmado recientemente
- LISTA DE ESPERA → Esperando disponibilidad

**Estados de visa:**
- CITA → Cita agendada
- CORRESPONDENCIA → En proceso administrativo
- APROBADA → Visa aprobada
- AGENDAR → Debe agendar cita
- DEBE ENVIAR FORM → Falta documentación
- DEBE PAGAR PROGRAMA → Falta pago
- PAGAR VOUCHER → Debe pagar tasa consular

### REGLAS DE NEGOCIO IMPORTANTES

1. **Edad mínima:** 18 años al inicio del programa (Work & Study requiere mayoría de edad)

2. **Nivel de inglés:**
   - Mínimo B1+ para Work & Travel
   - Mínimo B2 para Intern
   - Mínimo C1 para Teachers
   - Varía según job offer

3. **Costos no reembolsables:**
   - Inscripción/admisión NUNCA es reembolsable
   - Comisiones de IE no son reembolsables
   - Costos del programa dependen de políticas de la organización socia

4. **Plazos críticos:**
   - 45 días antes: Confirmación de alojamiento si busca por cuenta propia
   - 45 días antes: Pago completo del programa
   - 30 días antes: Confirmación de pasaje aéreo
   - 60 días antes: Comunicar cancelaciones

5. **Responsabilidades:**
   - IE es AGENTE, no prestador del servicio
   - La organización socia/sponsor es responsable del programa
   - IE no garantiza destino o trabajo específico
   - IE no es responsable de decisiones de visa

6. **Documentación:**
   - Pasaporte vigente 6 meses después de fin de programa
   - Evidencia de solvencia económica
   - Pasaje ida y vuelta (o ida según programa)

7. **Políticas de cambio:**
   - Cancelación de reserva de trabajo: USD 100
   - Reinscripción después de 1 año: USD 220
   - Cambios de fecha: sujeto a términos de organización socia

## 4. RELACIONES ENTRE ENTIDADES
```
PARTICIPANTE
├── tiene → PROGRAMA (1:1 o 1:N)
├── requiere → DOCUMENTOS (1:N)
├── tiene → CONTACTOS_EMERGENCIA (1:N)
├── realiza → EVALUACION_INGLES (1:N, máx 3)
├── selecciona → JOB_OFFER (0:1)
├── firma → CONTRATOS (1:N)
├── realiza → PAGOS (1:N)
└── tiene → PROCESO_VISA (0:1)

PROGRAMA
├── pertenece a → TIPO_PROGRAMA (N:1)
├── gestionado por → SPONSOR/ORGANIZACION (N:1)
├── tiene → DESTINO (1:1)
├── incluye → ALOJAMIENTO (0:1)
└── requiere → NIVEL_INGLES (1:1)

JOB_OFFER
├── ofrecido por → HOST_COMPANY (N:1)
├── gestionado por → SPONSOR (N:1)
├── ubicado en → CIUDAD/ESTADO (1:1)
├── requiere → NIVEL_INGLES (1:1)
├── tiene → CUPOS (1:1)
└── tiene → FECHAS (inicio/fin)

PROCESO_VISA
├── requiere → DS160 (1:1)
├── requiere → DS2019 (1:1)
├── requiere → SEVIS_PAYMENT (1:1)
├── requiere → TASA_CONSULAR (1:1)
└── tiene → ESTADO_VISA (1:1)
5. RECOMENDACIONES PARA LA APLICACIÓN WEB
MÓDULOS PRINCIPALES

Gestión de Participantes

CRUD completo
Búsqueda y filtros avanzados
Estados del participante
Historial de cambios


Gestión de Programas

Catálogo de programas
Configuración por tipo
Costos y fechas
Requisitos específicos


Evaluación de Inglés

Registro de exámenes (máx 3 intentos)
Integración con EF SET
Clasificación automática (A1-C2)
Historial de evaluaciones


Job Offers (Work & Travel)

Catálogo de ofertas
Filtros por: sponsor, ciudad, nivel inglés, género
Control de cupos
Estados: disponible, agotado, cancelado
Fechas de vencimiento


Proceso de Documentación

Checklist por programa
Upload de documentos
Validación de vigencia (pasaportes)
Alertas de vencimientos
Firma digital de contratos


Gestión de Visa

Estados del proceso
Documentos DS160, DS2019
Pagos SEVIS y tasa consular
Agenda de citas consulares
Seguimiento de aprobaciones


Finanzas

Plan de pagos por participante
Registro de pagos (con tipo de cambio)
Facturación (RUC)
Promociones aplicadas
Costos no reembolsables marcados
Reporte de ingresos


Sponsors y Organizaciones

Catálogo de sponsors (AAG, AWA, GH, etc.)
Organizaciones socias por programa
Términos y condiciones específicos
Contactos


Host Companies

Empresas empleadoras
Ubicaciones
Historial de participantes
Evaluaciones


Reportes y Dashboard

Participantes por estado
Visas aprobadas/pendientes
Job offers disponibles
Ingresos por programa
Conversión de inscripciones
Cancelaciones y motivos



ALERTAS Y NOTIFICACIONES

Pasaportes próximos a vencer
Pagos pendientes
Documentación faltante
Fechas límite (45 días, 30 días, 60 días)
Citas consulares
Exámenes de inglés pendientes
Job offers próximos a vencer

PERMISOS Y ROLES

Administrador: Acceso total
Agente: Gestiona sus participantes asignados
Coordinador de Programa: Gestiona programa específico
Finanzas: Módulo financiero y facturación
Visa Coordinator: Proceso de visas

INTEGRACIONES NECESARIAS

Sistema de pagos (conversión PYG-USD)
Email automatizado (bienvenida, recordatorios)
Almacenamiento de documentos (cloud)
EF SET o sistema de evaluación de inglés
Calendario (Google Calendar para citas)

CAMPOS CRÍTICOS CON VALIDACIONES

Pasaporte: Validar vigencia mínima 6 meses
Edad: Validar mayoría de edad según programa
Email: Validación y confirmación
Nivel de inglés: Validar contra requisitos de job offer
Fechas: Validar coherencia (inicio < fin)
Pagos: Validar orden del plan de pagos



PLAN DE TRABAJO POR ETAPAS
FASE 0: AUDITORÍA Y ANÁLISIS DEL CÓDIGO ACTUAL
Prompt para Fase 0 - Auditoría Inicial
# CONTEXTO
Soy desarrollador de una aplicación web para IE Intercultural Experience, una empresa 
de intercambios culturales en Paraguay. La aplicación está desarrollada al 50% y 
necesito realizar una auditoría completa del código actual.

# DOCUMENTACIÓN ADJUNTA
[Aquí adjuntarás los documentos que ya te compartí sobre los formularios y la base de datos]

# ANÁLISIS REQUERIDO
Necesito que analices el código actual de la aplicación y me proporciones:

1. **STACK TECNOLÓGICO IDENTIFICADO**
   - Frontend: Framework/librería, versiones
   - Backend: Lenguaje, framework, versiones
   - Base de datos: Tipo, versión, ORM utilizado
   - Autenticación y autorización
   - Otras tecnologías clave

2. **ESTRUCTURA DEL PROYECTO**
   - Arquitectura general (MVC, Clean Architecture, etc.)
   - Organización de carpetas
   - Módulos existentes
   - Componentes principales

3. **BASE DE DATOS ACTUAL**
   - Modelos/Entidades existentes
   - Relaciones entre tablas
   - Campos principales por modelo
   - Migraciones existentes

4. **FUNCIONALIDADES IMPLEMENTADAS**
   - Módulos completados
   - Funcionalidades parciales
   - CRUD existentes
   - Procesos de negocio implementados

5. **FUNCIONALIDADES FALTANTES**
   Comparar con los requerimientos identificados en el análisis previo:
   - Gestión de Participantes
   - Gestión de Programas
   - Evaluación de Inglés
   - Job Offers
   - Proceso de Documentación
   - Gestión de Visa
   - Finanzas
   - Sponsors y Organizaciones
   - Host Companies
   - Reportes y Dashboard

6. **PROBLEMAS Y DEUDA TÉCNICA**
   - Código duplicado
   - Falta de validaciones
   - Inconsistencias en nomenclatura
   - Problemas de seguridad
   - Performance issues
   - Falta de documentación

7. **BRECHAS CRÍTICAS**
   Identificar las diferencias entre:
   - Lo que está implementado
   - Lo que se necesita según los documentos de negocio

# CÓDIGO ACTUAL
[Aquí adjuntarás los archivos del proyecto actual]

# OUTPUT ESPERADO
Un documento markdown estructurado con:
- Resumen ejecutivo (máx 2 párrafos)
- Cada punto del análisis detallado
- Tabla comparativa: "Implementado vs Requerido"
- Lista priorizada de gaps a resolver
- Recomendaciones para las siguientes fases
```

---

## FASE 1: DISEÑO DE BASE DE DATOS COMPLETA

### Prompt para Fase 1 - Modelo de Datos
```
# CONTEXTO
Basado en la auditoría de la Fase 0, necesito diseñar el modelo de datos completo 
para la aplicación de IE Intercultural Experience.

# INFORMACIÓN DISPONIBLE
- Auditoría del código actual (Fase 0)
- Formularios de inscripción (7 programas diferentes)
- Base de datos actual de Work & Travel 2024
- Análisis de requerimientos previo

# RESTRICCIONES
- Debe ser compatible con [BASE DE DATOS ACTUAL identificada en Fase 0]
- Debe mantener los datos existentes (migración sin pérdida)
- Debe ser escalable para futuros programas
- Debe optimizar consultas frecuentes

# TAREA
Diseña el modelo de datos completo incluyendo:

1. **ENTIDADES PRINCIPALES**
   Para cada entidad proporciona:
   - Nombre de la tabla
   - Campos (nombre, tipo, restricciones)
   - Llaves primarias
   - Índices recomendados
   - Soft deletes si aplica

2. **RELACIONES**
   - Tipo de relación (1:1, 1:N, N:M)
   - Llaves foráneas
   - Acciones en cascada (ON DELETE, ON UPDATE)

3. **ENUMERACIONES Y CATÁLOGOS**
   - Estados del participante
   - Estados de visa
   - Tipos de programa
   - Niveles de inglés
   - Etc.

4. **TABLAS CRÍTICAS**
   Detalle especial para:
   - participants (participantes)
   - programs (programas)
   - job_offers
   - visa_process
   - payments
   - documents
   - english_evaluations

5. **ESTRATEGIA DE MIGRACIÓN**
   - Plan para migrar datos existentes
   - Scripts SQL de ejemplo
   - Validaciones post-migración

6. **OPTIMIZACIONES**
   - Índices compuestos recomendados
   - Particiones si son necesarias
   - Estrategias de caché

# OUTPUT ESPERADO
1. Diagrama ERD (descripción textual o código para herramienta)
2. Scripts SQL para crear todas las tablas
3. Documentación de cada tabla (propósito, campos clave)
4. Plan de migración paso a paso
5. Scripts de validación de integridad
```

---

## FASE 2: REFACTORIZACIÓN DE MODELOS Y ENTIDADES

### Prompt para Fase 2 - Implementación de Modelos
```
# CONTEXTO
Con el modelo de datos diseñado en Fase 1, necesito implementar/refactorizar 
los modelos en el código de la aplicación.

# INPUTS
- Diseño de base de datos completo (Fase 1)
- Código actual de modelos (Fase 0)
- Stack tecnológico: [COMPLETAR CON INFO DE FASE 0]

# TAREA
Implementa los modelos siguiendo estas prioridades:

## PRIORIDAD 1 - MODELOS CORE
1. **Participant (Participante)**
   - Campos completos según análisis
   - Métodos auxiliares (edad calculada, estado actual, etc.)
   - Validaciones a nivel de modelo
   - Scopes útiles (activos, por programa, etc.)

2. **Program (Programa)**
   - Polimorfismo para diferentes tipos de programa
   - Configuración específica por tipo
   - Validaciones de requisitos

3. **EnglishEvaluation (Evaluación de Inglés)**
   - Límite de 3 intentos
   - Cálculo automático de nivel
   - Relación con participante

## PRIORIDAD 2 - MODELOS DE PROCESO
4. **JobOffer**
5. **VisaProcess**
6. **Document**
7. **Payment**

## PRIORIDAD 3 - MODELOS DE SOPORTE
8. **Sponsor**
9. **HostCompany**
10. **EmergencyContact**

# REQUERIMIENTOS POR MODELO

Para cada modelo proporciona:

1. **Código del modelo/entidad**
   - Con todos los campos
   - Con relaciones definidas
   - Con validaciones

2. **Migrations/Scripts de migración**
   - Creación de tabla
   - Índices
   - Constraints

3. **Seeders/Datos iniciales** (si aplica)
   - Tipos de programa
   - Sponsors
   - Estados, etc.

4. **Tests unitarios básicos**
   - Validaciones
   - Relaciones
   - Métodos auxiliares

5. **Documentación del modelo**
   - Propósito
   - Relaciones
   - Métodos importantes

# CONVENCIONES
- Nomenclatura: [DEFINIR según stack]
- Idioma: [Inglés/Español]
- Timestamps: created_at, updated_at obligatorios
- Soft deletes donde aplique

# OUTPUT ESPERADO
Código completo y funcional de cada modelo, organizado por prioridad, 
listo para integrar al proyecto.
```

---

## FASE 3: API Y CONTROLADORES - PARTICIPANTES

### Prompt para Fase 3 - Backend Participantes
```
# CONTEXTO
Implementar el backend completo para el módulo de Participantes, 
el módulo más crítico del sistema.

# INPUTS
- Modelos implementados (Fase 2)
- Requerimientos funcionales del análisis inicial
- API actual (si existe) de Fase 0

# TAREA
Desarrolla el backend completo para gestión de participantes:

## 1. ENDPOINTS REQUERIDOS

### CRUD Básico
- GET /api/participants - Listar con paginación y filtros
- GET /api/participants/:id - Detalle completo
- POST /api/participants - Crear nuevo
- PUT /api/participants/:id - Actualizar
- DELETE /api/participants/:id - Eliminar (soft delete)

### Endpoints Especiales
- GET /api/participants/:id/timeline - Línea de tiempo del proceso
- GET /api/participants/:id/documents - Documentos del participante
- POST /api/participants/:id/documents - Upload documento
- GET /api/participants/:id/payments - Historial de pagos
- POST /api/participants/:id/english-evaluation - Registrar evaluación
- GET /api/participants/dashboard-stats - Estadísticas
- POST /api/participants/bulk-import - Importación masiva

## 2. FILTROS Y BÚSQUEDA
Implementar filtros por:
- Programa
- Estado
- Nivel de inglés
- Sponsor
- Rango de fechas
- Ciudad/Universidad
- Búsqueda de texto (nombre, email, CI)

## 3. VALIDACIONES
- Edad mínima según programa
- Email único
- CI único
- Pasaporte válido (vigencia)
- Nivel de inglés vs requisitos de programa

## 4. REGLAS DE NEGOCIO
- Límite de 3 evaluaciones de inglés
- No permitir eliminar si tiene pagos registrados
- Validar estado antes de transiciones
- Calcular montos pendientes automáticamente

## 5. SEGURIDAD
- Validación de inputs
- Sanitización de datos
- Rate limiting
- Autorización por roles

# CÓDIGO REQUERIDO
1. Controllers/Handlers
2. Services (lógica de negocio)
3. Validators/DTOs
4. Middlewares necesarios
5. Tests de integración
6. Documentación API (OpenAPI/Swagger)

# OUTPUT ESPERADO
Código completo del backend de participantes, probado y documentado.
```

---

## FASE 4: FRONTEND - MÓDULO PARTICIPANTES

### Prompt para Fase 4 - UI Participantes
```
# CONTEXTO
Desarrollar la interfaz de usuario para el módulo de Participantes.

# INPUTS
- API implementada (Fase 3)
- Framework frontend: [IDENTIFICADO EN FASE 0]
- Diseño/mockups (si existen)

# REQUERIMIENTOS FUNCIONALES

## 1. LISTADO DE PARTICIPANTES
- Tabla con paginación
- Filtros múltiples (acordeón o sidebar)
- Búsqueda en tiempo real
- Ordenamiento por columnas
- Exportar a Excel/CSV
- Acciones en masa (selección múltiple)
- Estados visuales (badges/chips de colores)

## 2. FORMULARIO DE INSCRIPCIÓN
Wizard/Stepper con pasos:
1. Datos personales
2. Datos académicos/laborales
3. Contactos de emergencia
4. Salud y restricciones
5. Selección de programa
6. Revisión y confirmación

Características:
- Validación en tiempo real
- Guardado de progreso
- Campos condicionales según programa
- Auto-guardado cada X segundos

## 3. PERFIL DE PARTICIPANTE
Vista con tabs:
- Overview (resumen)
- Documentos (upload, visualización, estado)
- Evaluaciones de inglés (historial)
- Proceso de visa (timeline)
- Job offer (si aplica)
- Pagos (historial y pendientes)
- Actividad (log de cambios)

## 4. COMPONENTES REQUERIDOS
- ParticipantCard
- DocumentUploader
- EnglishTestForm
- PaymentTracker
- VisaTimeline
- StatusBadge
- FilterSidebar

## 5. UX/UI
- Responsive (mobile-first)
- Loading states
- Empty states
- Error handling
- Confirmaciones para acciones destructivas
- Tooltips informativos
- Breadcrumbs
- Notificaciones toast

# OUTPUT ESPERADO
1. Código de componentes
2. Manejo de estado (Context/Redux/etc)
3. Servicios/API calls
4. Estilos (CSS/SCSS/Tailwind)
5. Tests de componentes
6. Storybook (opcional pero recomendado)
```

---

## FASE 5: JOB OFFERS Y MATCHING

### Prompt para Fase 5 - Sistema de Job Offers
```
# CONTEXTO
Implementar el sistema de Job Offers para Work & Travel, 
incluyendo matching automático y gestión de cupos.

# TAREA

## BACKEND

### 1. Modelo y CRUD de Job Offers
- Campos completos según análisis
- Control de cupos (disponibles/ocupados)
- Estados (disponible, agotado, cancelado)
- Fechas de vigencia

### 2. Sistema de Matching
Algoritmo que considere:
- Nivel de inglés del participante vs requerido
- Género (si el job offer especifica)
- Fechas disponibles del participante
- Preferencias de ubicación
- Sponsor del participante

### 3. Endpoints
- GET /api/job-offers - Listado con filtros
- GET /api/job-offers/:id - Detalle
- POST /api/job-offers - Crear oferta
- PUT /api/job-offers/:id - Actualizar
- POST /api/job-offers/:id/reserve - Reservar (pago USD 800)
- DELETE /api/job-offers/:id/reserve - Cancelar reserva (penalidad USD 100)
- GET /api/job-offers/matches/:participantId - Ofertas compatibles

### 4. Reglas de Negocio
- Validar cupos antes de reservar
- Registrar pago de USD 800 al reservar
- Cobrar penalidad de USD 100 si cancela
- No permitir reservar si nivel de inglés insuficiente
- Marcar como "agotado" cuando cupos = 0

## FRONTEND

### 1. Catálogo de Job Offers
- Vista de tarjetas (card grid)
- Filtros: sponsor, ciudad, estado, nivel inglés, género
- Ordenamiento: fecha, salario, ubicación
- Detalles expandibles
- Badge de "cupos limitados" si quedan pocos

### 2. Detalle de Job Offer
- Información completa
- Mapa de ubicación
- Botón "Reservar" (con confirmación)
- Condiciones y términos
- Host company info

### 3. Matching para Participante
- Página "Ofertas para ti"
- Score de compatibilidad (%)
- Resaltar ofertas altamente compatibles
- Explicar por qué es compatible

### 4. Gestión de Reservas
- Ver reserva actual
- Opción de cancelar (con advertencia de penalidad)
- Estado de la reserva

# OUTPUT ESPERADO
Backend y frontend completo del sistema de Job Offers.
```

---

## FASE 6: PROCESO DE VISA Y DOCUMENTACIÓN

### Prompt para Fase 6 - Visa y Docs
```
# CONTEXTO
Implementar el sistema de seguimiento de proceso de visa y gestión de documentos.

# FUNCIONALIDADES

## 1. Gestión de Documentos

### Backend
- Upload de archivos (con validación de tipo y tamaño)
- Almacenamiento seguro (S3, Cloud Storage, etc.)
- Tipos de documento por programa
- Estados: pendiente, recibido, aprobado, rechazado
- Versionado de documentos
- Alertas de vencimiento (pasaportes)

### Frontend
- Drag & drop upload
- Vista previa de documentos
- Checklist de docs requeridos
- Progreso visual (% completado)
- Notificaciones de docs faltantes

## 2. Proceso de Visa

### Backend - Estados y Transiciones
Estados:
1. Documentación pendiente
2. Sponsor interview pendiente
3. Sponsor interview aprobada
4. Job interview pendiente
5. Job interview aprobada
6. DS160 pendiente
7. DS160 completado
8. DS2019 pendiente
9. DS2019 recibido
10. SEVIS pagado
11. Tasa consular pagada
12. Cita agendada
13. Correspondencia
14. Visa aprobada
15. Visa rechazada

### Frontend - Timeline Visual
- Timeline interactivo
- Estado actual destacado
- Pasos completados (check verde)
- Pasos pendientes
- Acción requerida (botón)
- Alertas y recordatorios

## 3. Alertas Automáticas
- Documentos próximos a vencer
- Pagos pendientes (SEVIS, tasa consular)
- Entrevistas programadas
- Deadlines del programa

# OUTPUT ESPERADO
Sistema completo de visa y documentos con notificaciones.
```

---

## FASE 7: MÓDULO FINANCIERO

### Prompt para Fase 7 - Finanzas
```
# CONTEXTO
Implementar el módulo de finanzas, pagos y facturación.

# FUNCIONALIDADES

## 1. Plan de Pagos por Participante
- Configuración automática según programa
- Costos variables (promociones)
- Conversión PYG-USD (tipo de cambio del día)
- Pagos parciales
- Estado: pendiente, pagado, vencido

## 2. Registro de Pagos
- Fecha de pago
- Monto en PYG y USD
- Tipo de cambio aplicado
- Método de pago
- Referencia/comprobante
- Concepto

## 3. Facturación
- RUC del pagador
- Generación de comprobantes
- Notas de crédito (devoluciones)
- Historial de facturas

## 4. Reportes Financieros
- Ingresos por programa
- Ingresos por mes
- Conversión de inscripciones (funnel)
- Cuentas por cobrar
- Promociones aplicadas
- Cancelaciones y reembolsos

## 5. Dashboard Financiero
- KPIs principales
- Gráficos de ingresos
- Top programas
- Alertas de pagos vencidos

# OUTPUT ESPERADO
Módulo financiero completo con reportes y dashboard.
```

---

## FASE 8: REPORTES Y ANALYTICS

### Prompt para Fase 8 - Reportes
```
# CONTEXTO
Implementar sistema de reportes y analytics.

# REPORTES REQUERIDOS

## 1. Dashboard Principal
KPIs:
- Total participantes (activos)
- Por programa
- Por estado
- Visas aprobadas/pendientes
- Ingresos del mes
- Conversión de leads

## 2. Reportes Operativos
- Participantes por agente
- Job offers disponibles
- Documentación pendiente
- Citas consulares próximas
- Evaluaciones de inglés pendientes

## 3. Reportes Financieros
- Ingresos por programa
- Cuentas por cobrar
- Promociones más usadas
- Cancelaciones y motivos

## 4. Reportes de Conversión
- Inscripciones a aprobación
- Cancelaciones por etapa
- Tiempo promedio de proceso
- Tasa de aprobación de visa

## 5. Exportación
- Excel
- PDF
- CSV
- Filtros personalizados

# OUTPUT ESPERADO
Sistema de reportes con visualizaciones y exportación.
```

---

## FASE 9: TESTING Y CALIDAD

### Prompt para Fase 9 - Testing
```
# CONTEXTO
Implementar suite completa de tests.

# TIPOS DE TESTS

## 1. Tests Unitarios
- Modelos y validaciones
- Services/helpers
- Utilidades
- Coverage mínimo: 80%

## 2. Tests de Integración
- Endpoints API
- Flujos completos
- Interacción entre módulos

## 3. Tests E2E
Casos críticos:
- Inscripción completa de participante
- Reserva de job offer
- Proceso de visa end-to-end
- Registro de pagos

## 4. Tests de Performance
- Consultas lentas
- Carga de datos masivos
- Concurrencia

## 5. Tests de Seguridad
- Inyección SQL
- XSS
- CSRF
- Autorización

# OUTPUT ESPERADO
Suite de tests completa y documentación de QA.
```

---

## FASE 10: DEPLOYMENT Y DOCUMENTACIÓN

### Prompt para Fase 10 - Producción
```
# CONTEXTO
Preparar aplicación para producción.

# TAREAS

## 1. Configuración de Ambientes
- Development
- Staging
- Production
- Variables de entorno

## 2. CI/CD Pipeline
- Tests automáticos
- Deploy automático
- Rollback strategy

## 3. Monitoreo
- Logs centralizados
- Error tracking
- Performance monitoring
- Uptime monitoring

## 4. Backups
- Base de datos (diario)
- Archivos (documentos)
- Strategy de restore

## 5. Documentación
- README completo
- API documentation
- User manual
- Admin manual
- Deployment guide

## 6. Training
- Videos de capacitación
- Guías paso a paso
- FAQs

# OUTPUT ESPERADO
Aplicación en producción con documentación completa.